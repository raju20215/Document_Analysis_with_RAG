<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 500">
  <defs>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="3"/>
      <feOffset dx="2" dy="2" result="offsetblur"/>
      <feComponentTransfer>
        <feFuncA type="linear" slope="0.3"/>
      </feComponentTransfer>
      <feMerge>
        <feMergeNode/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#333"/>
    </marker>
  </defs>

  <rect width="800" height="500" fill="#f8f9fa"/>
  <text x="400" y="40" font-family="Arial, sans-serif" font-size="24" text-anchor="middle" font-weight="bold" fill="#2c3e50">DocGenius RAG Architecture</text>

  <!-- User Input -->
  <g transform="translate(50, 200)">
    <rect x="0" y="0" width="120" height="60" rx="10" fill="#3498db" filter="url(#shadow)"/>
    <text x="60" y="35" font-family="Arial" font-size="14" fill="white" text-anchor="middle">User Query</text>
  </g>

  <!-- Embeddings -->
  <g transform="translate(250, 200)">
    <rect x="0" y="0" width="140" height="80" rx="10" fill="#9b59b6" filter="url(#shadow)"/>
    <text x="70" y="35" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Embedding Model</text>
    <text x="70" y="55" font-family="Arial" font-size="12" fill="#ecf0f1" text-anchor="middle">(nomic-embed-text)</text>
  </g>

  <!-- Vector DB -->
  <g transform="translate(450, 100)">
    <path d="M0,20 C0,10 70,0 70,0 S140,10 140,20 L140,120 C140,130 70,140 70,140 S0,130 0,120 Z" fill="#2ecc71" filter="url(#shadow)"/>
    <ellipse cx="70" cy="20" rx="70" ry="10" fill="#27ae60"/>
    <text x="70" y="70" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Vector Database</text>
    <text x="70" y="90" font-family="Arial" font-size="12" fill="#ecf0f1" text-anchor="middle">(FAISS)</text>
  </g>

  <!-- Documents -->
  <g transform="translate(250, 50)">
    <rect x="0" y="0" width="100" height="60" rx="5" fill="#e67e22" filter="url(#shadow)"/>
    <text x="50" y="35" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Documents</text>
  </g>

  <!-- LLM -->
  <g transform="translate(450, 300)">
    <rect x="0" y="0" width="140" height="80" rx="10" fill="#e74c3c" filter="url(#shadow)"/>
    <text x="70" y="35" font-family="Arial" font-size="14" fill="white" text-anchor="middle">Local LLM</text>
    <text x="70" y="55" font-family="Arial" font-size="12" fill="#ecf0f1" text-anchor="middle">(Gemma 3:1B)</text>
  </g>

  <!-- Response -->
  <g transform="translate(650, 200)">
    <rect x="0" y="0" width="120" height="60" rx="10" fill="#34495e" filter="url(#shadow)"/>
    <text x="60" y="35" font-family="Arial" font-size="14" fill="white" text-anchor="middle">AI Response</text>
  </g>

  <!-- Arrows -->
  <line x1="170" y1="230" x2="240" y2="230" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/> <!-- User -> Embed -->
  <line x1="300" y1="110" x2="300" y2="190" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/> <!-- Docs -> Embed (Logical flow representation) -->
  <line x1="390" y1="230" x2="440" y2="170" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/> <!-- Embed -> VectorDB -->
  <line x1="520" y1="240" x2="520" y2="290" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/> <!-- VectorDB -> LLM -->
  <line x1="590" y1="340" x2="650" y2="260" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/> <!-- LLM -> Response -->
  
  <!-- Annotations -->
  <text x="300" y="150" font-family="Arial" font-size="12" fill="#7f8c8d" text-anchor="middle">Chunking & Indexing</text>
  <text x="580" y="160" font-family="Arial" font-size="12" fill="#7f8c8d" text-anchor="middle">Context Retrieval</text>

</svg>
